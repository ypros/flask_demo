# Разделение монолита на сервисы

## Установка и настройка tarantool
В качестве бд хранения диалогов используется все тот же тарантул. [Инструкция по установке и растройке](../tarantool/readme.md)

## fastapi сервис
Система диалогов была вынесена в отдельный сервис на fastapi

1. Для запуска сервиса в докере можно использовать [dockerfile](/Dockerfile)
2. В сервисе реализованы 2 метода:
   - `POST /api/v1/dialog/send`
   - `GET /api/v1/dialog/list`
3. Добавлено логгирование и проброс сквозного traceId в заголовках запроса и ответа методов

## flask сервис
В монолитном сервисе добавлена поддержка новых методов и оставлены старые методы для обратной совместимости
Новые методы:
   - `POST /api/v2/dialog/<user_id>/send`
   - `GET /api/v2/dialog/<user_id>/list`



